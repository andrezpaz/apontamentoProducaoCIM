<style>
    table th, td{
        border: 1px solid black;
    }
</style>
<script>
        function copyItem(item){
        navigator.clipboard.writeText(item)
    }

    // return a promise
    function copyToClipboard(textToCopy) {
    // navigator clipboard api needs a secure context (https)
    if (navigator.clipboard && window.isSecureContext) {
        // navigator clipboard api method'
        return navigator.clipboard.writeText(textToCopy);
    } else {
        // text area method
        let textArea = document.createElement("textarea");
        textArea.value = textToCopy;
        // make the textarea out of viewport
        textArea.style.position = "fixed";
        textArea.style.left = "-999999px";
        textArea.style.top = "-999999px";
        document.body.appendChild(textArea);
        textArea.focus();
        textArea.select();
        return new Promise((res, rej) => {
            // here the magic happens
            document.execCommand('copy') ? res() : rej();
            textArea.remove();
        });
    }
}
</script>
<body>
    <table>
        <tr>
            <th>Arquivo</th>
            <th>Data</th>
        </tr>
        <% itens.forEach((item)=>{%>
        <tr>
            <td>
                <div class="item">
                <span><%=item.file%> - </span>
                <img width="20px" src="/images/copy.png" onclick="copyToClipboard('<%=item.file%>')">
                </div>
            </td>
            <td>
                <%=item.date%>
            </td>
            <%}) %>
        </tr>
    </table>
